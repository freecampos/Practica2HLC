<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Use NodeJS into VSC</title>
	<link rel="shortcut icon" href="../imagenes/logo.jpg" />
	<link rel="stylesheet" type="text/css" href="../estilos/Nodejs-in-VSC.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<script src="../scripts/menu.js" type="text/javascript"></script>
</head>
<body>
	<header id="header-framework">
    	<hgroup>
			<h1>Usar NodeJS con Visual Studio Code</h1>       
			<h6 class="autor">Antonio González</h6>
		</hgroup>
		
		<nav class="">
			<ul>
				<li><a href="VisualStudioCode.html">VSC</a></li>
				<li><a href="VSCconGit.html">VSC con Git</a></li>
				<li><a href="Nodejs-in-VSC.html">NodeJS</a></li>
				<li><a href="DevelopersTools.html">Developers Tools</a></li>
				<li><a href="framework-js.html">Framework JS</a></li>
				<li><a href="framework-web.html">Framework Web</a></li>
				<li><a href="contact.html">Contáctame</a></li>
			</ul>
		</nav>   
            
	</header>

	<section id="content-framework">

		<section id="Introduction">
			<h2>Como usar NodeJS en VSC</h2>
			<p>
				Node.js is a platform for building fast and scalable server applications using JavaScript. Node.js is the runtime and npm is the Package Manager for Node.js modules.
				<br><br>
				Visual Studio Code has support for the JavaScript and TypeScript languages out-of-the-box as well as Node.js debugging. However, to run a Node.js application, you will need to install the Node.js runtime on your machine.
				<br><br>
				To get started in this walkthrough, <a href="https://nodejs.org/en/download/">install Node.js for your platform.</a> The Node Package Manager is included in the Node.js distribution. You'll need to open a new terminal (command prompt) for the <code>node</code> and <code>npm</code> command-line tools to be on your PATH.
			</p>
		</section>

		<section id="FirstPoject">
			<h3>First Poject</h3>
			<p>
				Let's get started by creating the simplest Node.js application, "Hello World".
				<br><br>
				Create an empty folder called "hello", navigate into and open VS Code:			
			</p>

			<table class="comando">
				<tr>
					<td>mkdir hello <br> cd hello <br> code.</td>
				</tr>
			</table>

			<p>
				From the File Explorer toolbar, press the New File button:
			</p>

			<img src="../imagenes/NodeJS-in-VSC/toolbar-new-file.png" alt="">		

			<p>
				and name the file app.js:
			</p> 

			<img src="../imagenes/NodeJS-in-VSC/app-js-file-created.png" alt="">	

			<p>
				By using the <code>.js</code> file extension, VS Code interprets this file as JavaScript and will evaluate the contents with the JavaScript language service. Refer to the VS Code JavaScript language topic to learn more about JavaScript support.
				<br><br>
				Create a simple string variable in <code>app.js</code> and send the contents of the string to the console:
			</p>

			<table class="comando">
				<tr>
					<td><span class="text-primary"> var </span>msg = <span class="text-warning"> 'Hello World'</span>; <br> console.log(msg);</td>
				</tr>
			</table>

			<p>
				Note that when you typed <code>console.</code> <a href="https://code.visualstudio.com/docs/editor/intellisense">IntelliSense</a> on the <code>console</code> object was automatically presented to you.
			</p>

			<img src="../imagenes/NodeJS-in-VSC/consoleintellisense.png" alt="">

			<p>
				Also notice that VS Code knows that <code>msg</code> is a string based on the initialization to <code>'Hello World'</code>. If you type <code>msg.</code> you'll see IntelliSense showing all of the string functions available on <code>msg</code>.
			</p>

			<img src="../imagenes/NodeJS-in-VSC/stringintellisense.png" alt="">

			<p>
				After experimenting with IntelliSense, revert any extra changes from the source code example above and save the file <code>(Ctrl+S)</code>.
			</p>
		</section>

		<section id="RunProject">
			<h3>Run Project</h3>

			<p>It's simple to run <code>app.js</code> with Node.js. From a terminal, just type:</p>

			<table class="comando">
				<tr>
					<td>node app.js</td>
				</tr>
			</table>

			<p>You should see "Hello World" output to the terminal and then Node.js returns.</p>
		</section>

		<section id="IntegratedTerminal">
			<h3>Integrated Terminal</h3>

			<p>
				VSC has an <a href="https://code.visualstudio.com/docs/editor/integrated-terminal"> integrated terminal </a> which you can use to run shell commands. You can run Node.js directly from there and avoid switching out of VS Code while running command-line tools.
				<br><br>
				View > Terminal (<code>Ctrl+`</code> with the backtick character) will open the integrated terminal and you can run <code>node app.js</code> there:
			</p>

			<img src="../imagenes/NodeJS-in-VSC/integrated-terminal.png" alt="">

			<p>
				<br>
				For this walkthrough, you can use either an external terminal or the VS Code integrated terminal for running the command-line tools.
			</p>
		</section>

		<section id="Debugging">
			<h3>Debugging Project</h3>

			<p>
				As mentioned in the introduction, VS Code ships with a debugger for Node.js applications. Let's try debugging our simple Hello World application.
				<br><br>
				To set a breakpoint in <code>app.js</code>, put the editor cursor on the first line and press <code>F9</code> or click in the editor left gutter next to the line numbers. A red circle will appear in the gutter.
			</p>

			<img src="../imagenes/NodeJS-in-VSC/app-js-breakpoint-set.png" alt="">

			<p>
				<br>To start debugging, select the Run View in the Activity Bar:
			</p>

			<img src="../imagenes/NodeJS-in-VSC/debugicon.png" alt="">

			<p>
				<br>
				You can now click Debug toolbar green arrow or press <code>F5</code> to launch and debug "Hello World". Your breakpoint will be hit and you can view and step through the simple application. Notice that VS Code displays a different colored Status Bar to indicate it is in Debug mode and the DEBUG CONSOLE is displayed.
			</p>

			<img id="debuImage" src="../imagenes/NodeJS-in-VSC/hello-world-debugging.png" alt="">

			<p>
				<br>Now that you've seen VS Code in action with "Hello World", the next section shows using VS Code with a full-stack Node.js web app.
			</p>
		</section>

		<section id="Express">
			<h3>Express Application</h3>

			<p>
				Express is a very popular application framework for building and running Node.js applications. You can scaffold (create) a new Express application using the Express Generator tool. The Express Generator is shipped as an npm module and installed by using the npm command-line tool <code>npm</code>.
				<br><br>
				Install the Express Generator by running the following from a terminal:
			</p>

			<table class="comando">
				<tr>
					<td>npm install -g express-generator</td>
				</tr>
			</table>

			<p>
				<br>The <code>-g</code> switch installs the Express Generator globally on your machine so you can run it from anywhere.
				<br><br>
				We can now scaffold a new Express application called <code>myExpressApp</code> by running:
			</p>

			<table class="comando">
				<tr>
					<td>express myExpressApp --view pug</td>
				</tr>
			</table>

			<p>
				<br>This creates a new folder called <code>myExpressApp</code> with the contents of your application. The <code>--view pug</code> parameters tell the generator to use the pug template engine.
				<br><br>
				To install all of the application's dependencies (again shipped as npm modules), go to the new folder and execute <code>npm install</code>:

			</p>

			<table class="comando">
				<tr>
					<td>cd myExpressApp <br>npm install</td>
				</tr>
			</table>

			<p>
				<br>At this point, we should test that our application runs. The generated Express application has a <code>package.json</code> file which includes a <code>start</code> script to run <code>node ./bin/www</code>. This will start the Node.js application running.
				<br><br>
				From a terminal in the Express application folder, run:
			</p>

			<table class="comando">
				<tr>
					<td>npm start</td>
				</tr>
			</table>

			<p>
				<br>The Node.js web server will start and you can browse to http://localhost:3000 to see the running application.
			</p>
 
			<img src="../imagenes/NodeJS-in-VSC/express.png" alt="">
		</section>

		<section id="GreatCode">
			<br>
			<h3>Great Code Editing</h3>

			<p>
				<br>Close the browser and from a terminal in the <code>myExpressApp</code> folder, stop the Node.js server by pressing <code>CTRL+C</code>.
				<br><br>
				Now launch VS Code:
			</p>

			<table class="comando">
				<tr>
					<td>code .</td>
				</tr>
			</table>

			<p>
				<br>The <a href="https://nodejs.org/api/"> Node.js </a> and <a href="http://expressjs.com/en/api.html"> Express </a> documentation does a great job explaining how to build rich applications using the platform and framework. Visual Studio Code will make you more productive in developing these types of applications by providing great code editing and navigation experiences.
				<br><br>
				Open the file <code>app.js</code> and hover over the Node.js global object <code>__dirname</code>. Notice how VS Code understands that <code>__dirname</code> is a string. Even more interesting, you can get full IntelliSense against the Node.js framework. For example, you can require <code>http</code> and get full IntelliSense against the http class as you type in Visual Studio Code.
			</p>

			<img src="../imagenes/NodeJS-in-VSC/intellisense.png" alt="">

			<p>
				<br>VS Code uses TypeScript type declaration (typings) files (for example <code>node.d.ts</code>) to provide metadata to VS Code about the JavaScript based frameworks you are consuming in your application. Type declaration files are written in TypeScript so they can express the data types of parameters and functions, allowing VS Code to provide a rich IntelliSense experience. Thanks to a feature called <code>Automatic Type Acquisition</code>, you do not have to worry about downloading these type declaration files, VS Code will install them automatically for you.
				<br><br>
				You can also write code that references modules in other files. For example, in app.js we require the <code>./routes/index</code> module, which exports an <code>Express.Router</code> class. If you bring up IntelliSense on <code>index</code>, you can see the shape of the <code>Router</code> class.
			</p>

			<img src="../imagenes/NodeJS-in-VSC/moduleintellisense.png" alt="">
		</section>

		<section id="DebugExpress">
			<br>
			<h3>Debug your Express app</h3>

			<p>
				<br>You will need to create a debugger configuration file <code>launch.json</code> for your Express application. Click on the Run icon in the Activity Bar and then the Configure gear icon at the top of the Run view to create a default <code>launch.json</code> file. Select the Node.js environment by ensuring that the <code>type</code> property in <code>configurations</code> is set to <code>"node"</code>. When the file is first created, VS Code will look in <code>package.json</code> for a <code>start</code> script and will use that value as the <code>program</code> (which in this case is <code>"${workspaceFolder}\\bin\\www</code>) for the Launch Program configuration.
			</p>

			<table class="comando">
				<tr>
					<td>
						{<br>
						  &nbsp;&nbsp;&nbsp;&nbsp;"version": "0.2.0",<br>
						  &nbsp;&nbsp;&nbsp;&nbsp;"configurations": [<br>
						    &nbsp;&nbsp;&nbsp;&nbsp;{<br>
						      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "node",<br>
						      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"request": "launch",<br>
						      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"name": "Launch Program",<br>
						      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"program": "${workspaceFolder}\\bin\\www"<br>
						    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
						  &nbsp;&nbsp;]<br>
}					</td>
				</tr>
			</table>

			<p>
				<br>Save the new file and make sure Launch Program is selected in the configuration drop-down at the top of the Run view. Open <code>app.js</code> and set a breakpoint near the top of the file where the Express app object is created by clicking in the gutter to the left of the line number. Press <code>F5</code> to start debugging the application. VS Code will start the server in a new terminal and hit the breakpoint we set. From there you can inspect variables, create watches, and step through your code.
			</p>

			<img src="../imagenes/NodeJS-in-VSC/debugsession.png" alt="">
		</section>

		<section id="Comentarios">
		    <div class="col-md-8">
		        <form>
		        	<h5>Deja tu Comentario</h5>
		            <div class="form-group">
					<label>Nombre</label>
					<input class="form-control" type="text"  id="name">
					</div>
		            <div class="form-group">
					<label>Comentario</label>
					<textarea id="comment" class="form-control"></textarea>
					</div>
					<button type="button" class="btn btn-primary" onclick="commentBox();">Enviar</button>
		        </form>
		    </div>	
		</section>
	</section>



	<aside>
		<footer id="final">
			<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Web bajo licencia Creative Commons</a>
		</footer>
	</aside>

	<script src="../scripts/NodeJS-in-VSC.js" type="text/JavaScript"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</body>
</html>